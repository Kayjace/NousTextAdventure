/* src/components/EndingScreen.css */

.ending-screen {
display: flex;
overflow: auto;
flex-direction: column;
align-items: center;
justify-content: flex-start; /* 상단에서 시작 */
background-color: black;
color: lime;
min-height: calc(100vh - 100px); /* 헤더 높이를 고려 */
padding: 20px;
font-family: 'VT323', monospace;
position: static; /* position 변경 */
z-index: 1;
margin-top: 20px; /* 헤더와 간격 */
pointer-events: auto; /* 이벤트 전파 허용 */
}

/* Different ending background styles */
.ending-heroic {
background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('../assets/1.png');
background-size: cover;
background-attachment: local;
}

.ending-pyrrhic {
background: linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8)), url('../assets/2.png');
background-size: cover;
background-attachment: local;
}

.ending-antihero {
background: linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8)), url('../assets/3.png');
background-size: cover;
background-attachment: local;
}

.ending-tragic {
background: linear-gradient(rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.9)), url('../assets/4.png');
background-size: cover;
background-attachment: local;
}

.ending-bittersweet {
background: linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8)), url('../assets/5.png');
background-size: cover;
background-attachment: local;
}

.ending-container {
width: 90%;
max-width: 1200px;
background-color: rgba(0, 0, 0, 0.8);
border: 2px solid #00ff00;
border-radius: 5px;
padding: 20px;
box-shadow: 0 0 10px #00ff00, inset 0 0 5px #00ff00;
animation: flicker 1.5s infinite alternate;
}

.ending-header {
text-align: center;
margin-bottom: 30px;
}

.ending-header h1 {
color: #00ff00;
font-size: 2.5rem;
text-shadow: 0 0 10px #00ff00;
margin-bottom: 10px;
animation: flicker-glow 1.5s infinite alternate;
}

.ending-type {
color: #ffffff;
font-size: 1.8rem;
text-shadow: 0 0 8px #ffffff;
animation: flicker-glow 1.5s infinite alternate;
}

.ending-content {
display: grid;
grid-template-columns: 1fr;
gap: 20px;
}

.character-section {
display: flex;
flex-direction: column;
align-items: center;
margin-bottom: 20px;
}

.character-image {
width: 150px;
height: 150px;
object-fit: cover;
border: 2px solid #00ff00;
border-radius: 50%;
margin-bottom: 10px;
box-shadow: 0 0 15px #00ff00;
}

.story-wrap {
background-color: rgba(0, 20, 0, 0.7);
padding: 15px;
border-left: 3px solid #00ff00;
margin-bottom: 20px;
}

.highlights {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
gap: 15px;
margin-bottom: 30px;
}

.highlight-item {
background-color: rgba(0, 20, 0, 0.5);
padding: 15px;
border-top: 2px solid #00ff00;
}

.highlight-item h4 {
color: #ffffff;
margin-bottom: 10px;
text-shadow: 0 0 5px #ffffff;
}

.score-section {
display: grid;
grid-template-columns: 1fr;
gap: 20px;
margin-top: 20px;
}

@media (min-width: 768px) {
.score-section {
grid-template-columns: 1fr 2fr;
}
}

.overall-score {
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
}

.score-circle {
width: 120px;
height: 120px;
border-radius: 50%;
background-color: rgba(0, 50, 0, 0.5);
border: 3px solid #00ff00;
display: flex;
align-items: center;
justify-content: center;
margin: 15px 0;
box-shadow: 0 0 20px #00ff00;
}

.score-circle span {
font-size: 2.5rem;
color: #00ff00;
text-shadow: 0 0 10px #00ff00;
}

.score-breakdown {
margin-bottom: 20px;
}

.score-bars {
display: flex;
flex-direction: column;
gap: 10px;
}

.score-bar {
display: grid;
grid-template-columns: 1fr 2fr 40px;
align-items: center;
gap: 10px;
}

.bar-container {
height: 15px;
background-color: rgba(0, 20, 0, 0.5);
border: 1px solid #00ff00;
border-radius: 10px;
overflow: hidden;
}

.bar-fill {
height: 100%;
background-color: #00ff00;
box-shadow: 0 0 5px #00ff00;
}

.score-value {
text-align: right;
}

.player-stats {
grid-column: 1 / -1;
}

.stats-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
gap: 15px;
}

.stat-item {
background-color: rgba(0, 20, 0, 0.5);
padding: 10px;
display: flex;
justify-content: space-between;
border-left: 2px solid #00ff00;
}

.ending-actions {
margin-top: 30px;
text-align: center;
}

.return-home-btn {
background-color: rgba(0, 50, 0, 0.7);
color: #00ff00;
border: 2px solid #00ff00;
padding: 10px 20px;
font-size: 1.2rem;
cursor: pointer;
transition: all 0.3s;
font-family: 'VT323', monospace;
text-transform: uppercase;
letter-spacing: 2px;
box-shadow: 0 0 10px #00ff00;
}

.return-home-btn:hover {
background-color: rgba(0, 80, 0, 0.9);
box-shadow: 0 0 20px #00ff00;
}

.save-result-btn {
background-color: rgba(0, 30, 50, 0.7);
color: #00ffff;
border: 2px solid #00ffff;
padding: 10px 20px;
font-size: 1.2rem;
cursor: pointer;
transition: all 0.3s;
font-family: 'VT323', monospace;
text-transform: uppercase;
letter-spacing: 2px;
box-shadow: 0 0 10px #00ffff;
margin-left: 15px;
}

.save-result-btn:hover {
background-color: rgba(0, 50, 80, 0.9);
box-shadow: 0 0 20px #00ffff;
}

@keyframes flicker {
0%, 18%, 22%, 25%, 53%, 57%, 100% {
box-shadow: 0 0 10px #00ff00, inset 0 0 5px #00ff00;
}
20%, 24%, 55% {
box-shadow: none;
}
}

@keyframes flicker-glow {
0% {
text-shadow: 0 0 5px rgba(0, 255, 0, 0.3), 0 0 10px rgba(0, 255, 0, 0.2);
}
50% {
text-shadow: 0 0 2px rgba(0, 255, 0, 0.5), 0 0 8px rgba(0, 255, 0, 0.3);
}
100% {
text-shadow: 0 0 7px rgba(0, 255, 0, 0.7), 0 0 15px rgba(0, 255, 0, 0.5);
}
}

h3 {
color: #ffffff;
margin-bottom: 15px;
text-shadow: 0 0 8px #ffffff;
border-bottom: 1px solid #00ff00;
padding-bottom: 5px;
}

.result-saved-status {
  margin-top: 1rem;
  padding: 0.5rem 1rem;
  border-radius: 4px;
  font-weight: bold;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.result-saved-status.success {
  background-color: rgba(0, 255, 0, 0.1);
  color: #0f0;
  border: 1px solid #0f0;
}

.result-saved-status.warning {
  background-color: rgba(255, 215, 0, 0.1);
  color: #ffd700;
  border: 1px solid #ffd700;
}

.result-saved-status.error {
  background-color: rgba(255, 0, 0, 0.1);
  color: #f66;
  border: 1px solid #f66;
}

.result-saved-status span {
  font-size: 1.2rem;
}